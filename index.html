<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Python Script</title>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.22.0/full/pyodide.js"></script>
    <script>
        async function runPython() {
            // Load Pyodide
            const pyodide = await loadPyodide();
            
            // Python code to run (you can also load this from a file or URL)
            const pythonCode = `
import sys
import io

# Redirect stdout to capture the output
old_stdout = sys.stdout
sys.stdout = io.StringIO()

print("Hello from Python!")

# Capture the output and restore stdout
output = sys.stdout.getvalue()
sys.stdout = old_stdout
output
            `;

            // Execute Python code
            const result = await pyodide.runPythonAsync(pythonCode);

            // Display the result
            document.getElementById('output').textContent = result;

            // Download the result
            const blob = new Blob([result], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'result.txt';
            link.click();
        }
    </script>
</head>
<body>
    <h1>Run Python Script in Browser</h1>
    <button onclick="runPython()">Run Script</button>
    <pre id="output"></pre>
</body>
</html>
